<html>
<head>
<!--見出しと同じものをタイトルにします-->
<title>Q&A集</title>
<!--META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=shift-jis"-->
<link rel=StyleSheet href=default.css>
</head>
<body>

<!---------------------------------------------------------------------------------
ここにコンテンツを記載
-------------------------------------------------------------------------------->

<!--ページが長くなったときにトップへ戻るジャンプを付ける場合のリンク名です-->
<a name=TOPIC_TOP>
<!-===============================================================================-->
<!-見出し-->
<!-===============================================================================-->
<h1>Q&A集</h1>
<p>
<h2>Q:ボードが正常認識されているかどうかの確認方法は？</h2>
A:ドライバをインストールする前の状態であれば、/proc/pciファイルを見てください。<br>
ドライバをインストールしてドライバを起動した後の状態であれば、コンフィグレーション
でボード一覧にI/OアドレスとIRQが表示されているかどうかで確認できます。<br>
又は、/proc/ioportsか、/proc/interruptsを見て、I/OアドレスとIRQが表示されているかどうか
で確認できます。<br>
また、初期化関数を実行して、戻り値が正常終了であれば、正常に認識しているとの判断ができます。<br>
<p>
<h2>Q:ボードが認識されているのに、正常動作しません。</h2>
A:BIOSの設定で、Plug & Play OSの設定があるならば、No になっているか確認してください。<br>
Plug & Play OSがYesになっていると、BIOSがPCIバスボードを正常に設定しない可能性があります。<br>
BIOSがPCIバスボードを正常に設定していない場合でも、/proc/pciにはボードが見えている場合
があります。<br>
<p>
<h2>Q:アプリケーションを起動するとシェアードライブラリがないとのエラーが出るのですが。</h2>
A:インストールが正常にできていない可能性があります。インストールはroot権限で行って
ください。<br>
シェアードライブラリは、/usr/libにコピーしただけでは、動作しません。<br>
シェアードライブラリを有効にするには、ファイルをコピーしてシンボリックリンクを作成
した後に、ldconfigコマンドを実行してください。<br>
詳細は、cdio/library/Makefileのinstallの部分を見てください。<br>
<p>
<h2>Q:シェアードライブラリを/usr/local/libに置いて管理したいのですが。</h2>
A:/etc/ld.so.confを書き換えてldconfigを実行するか、シェルの起動スクリプト等でLD_LIBRARY_PATH
の設定を追加してください（例はbash)。<br>
記述内容は、使用するシェルによって異なります。<br>
詳しくは、manコマンドで調べてください。<br>
<pre>
(例).bash_profile
LD_LIBRARY_PATH=/usr/local/lib
export LD_LIBRARY_PATH
</pre>
<p>
<h2>Q:1回の入出力にどの位の時間が掛かりますか？</h2>
A:ご使用のシステムでの状況も依存しますが、他のアプリケーションを走らせない状況での
実績参考値を以下に示します。<br>
<p>
<pre>
CPU:PentiumⅡ333MHz
条件:1000回のループでシステム時間と比較平均値
実績:入力1ポート:3μs
     入力4ポート:6μs
     出力1ポート:4μs
     出力4ポート:7μs
</pre>
<p>
<h2>Q:割り込みの通知にはどのくらいの時間が掛かりますか？</h2>
A:ご使用のシステムでの状況も依存しますが、他のアプリケーションを走らせない状況での
実績参考値を以下に示します。<br>
<p>
<pre>
CPU:PentiumⅡ333MHz
条件:コールバック中で次の割り込みを発生させるアプリケーションでの
1000回の繰り返しで、システム時間と比較平均値
実績:10ms
</pre>
<p>
注)これ以下の周期で発生する割り込みに対しても、回数的には正確に通知できるロジックに
なっています。<br>
実際には、TTLレベルのボードで100μs間隔の周期で1000回のパルスを受ける
試験で正常な回数を受け付けました。<br>
50μs程度になると、1000回に対して数点の取りこぼしが発生します。<br>
<p>
<h2>Q:割り込み機能が正常に動作しないのですが？</h2>
正常にIRQリソースが割り当てられていない可能性があります。<br>
GRUB等のブートローダーでブートプロンプトパラメータとして[acpi=noirq]を追加してみてください。<br>
<br>
例: GRUBの場合<br>
grub.conf を以下の内容を参考に編集してみてください<br>
(通常は、/boot/grub/grub.confに存在します)<br>
<p>
<h2>Q:LANケーブル接続デバイスが検出できない場合</h2>
A:LANケーブル接続デバイスはデバイス検出時にマルチキャストによる通信を行いますが、<br>
 使用環境によってはマルチキャスト通信ができない場合があります。<br>
 目的のデバイスが検出されない場合、デバイス手動追加を試してみてください。<br>
<br>
また、ファイアウォールを止めるなど、ネットワーク設定を変更することでデバイスが検出できる場合があります。<br>
ネットワーク設定の変更例を以下に記載しますので試してみてください。<br>
<br>
[/etc/hosts]の設定ファイルに以下を追記<br>
-----------------------------------------------------------<br>
/etc/hosts<br>
 -----------------------------------------------------------<br>
 10.xxx.yyy.zzz    (New Machine Name)　　　　←追記部分<br>
127.0.0.1    localdomein.localName    local<br>
 ---------------------------------------------------------------<br>
 * [New Machine Name]については　PCの名前をつけてください。<br>
<p>
kernel /vmlinuz-x.x.xx ro root=LABEL=/ acpi=noirq<br>
<br>

<!---------------------------------------------------------------------------------
コンテンツここまで
-------------------------------------------------------------------------------->
</BODY>
</HTML>
